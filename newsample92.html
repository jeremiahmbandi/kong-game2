<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Kong (Treasure Hunt) Slot Machine</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Andada+Pro:ital,wght@0,400..840;1,400..840&family=Chakra+Petch:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Noto+Serif:ital,wght@0,100..900;1,100..900&family=Victor+Mono:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="service.js"></script>

    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: #2c2c2c;
            touch-action: manipulation;
            font-family: 'Victor Mono', monospace;
            font-optical-sizing: auto;
            font-weight: normal;
            font-style: normal;
        }
        @font-face {
            font-family: 'aldo';
            src: url('aldo_the_apache') format('truetype');
        }

        #game-container {
            width: 100%;
            height: 100vh;
            max-height: 100vh;
            display: flex;
            flex-direction: column;
            font-family: 'aldo', sans-serif;
        }
        .game-canvas-container {
            flex: 1;
            position: relative;
            height: 100%;
            width: 96%;
            margin: auto;
            overflow: hidden;
            z-index: 888;
        }
        .game-controls {
            margin: 0px !important;
            padding: 0px !important;
            width: 100%;
            background-image: url('wood.jpg');
            border-radius: 12px 12px 0 0;
            z-index: 1000;
            bottom: 0 !important;
        }
        .control-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .spin-button, .autoplay-button {
            cursor: pointer;
            width: 100%;
            text-align: center;
            padding: 12px;
        }
        /* Responsive adjustments */
        @media (max-height: 600px) {
            .game-controls {
                padding: 5px;
            }
            .control-group {
                gap: 5px;
            }
            .input-group {
                margin-bottom: 5px;
            }
        }
        /* Prevent text selection */
        * {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        /* Allow input in number fields */
        input[type="number"] {
            -webkit-user-select: auto;
            -moz-user-select: auto;
            -ms-user-select: auto;
            user-select: auto;
        }
        /* Game info overlay */
        #gameinfo_overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background-color: black;
            z-index: 2002;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow: auto;
            display: none;
        }
        #jdb_overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: black;
            z-index: 2002;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        #kong_overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('kong_bcg4.png');
            background-size: cover;
            background-repeat: repeat;
            background-color: black;
            z-index: 2001;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        /* Stake button and overlay styles */
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 1);
            z-index: 2000;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .overlay-content {
            border-radius: 12px;
            width: 90%;
            max-width: 400px;
            padding: 20px;
            margin-top: 100px;
        }
        .overlay-content-stake {
            border-radius: 12px;
            width: 100%;
            max-width: 400px;
            padding: 20px;
            margin-top: 100px;
        }
        .overlay-header {
            color: #e4d594;
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.5rem;
            font-weight: bold;
        }
        .options-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }
        .option-button {
            background: linear-gradient(to bottom, #353333, #272525);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 15px 0;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        .option-button:hover, .option-button.selected {
            background-color: #25282b;
            box-shadow: 
                inset 0 0 0 2px rgba(0, 0, 0, 0.15),
                0 0 0 2px rgba(0, 0, 0, 0.15),
                inset 0 0 0.875rem #FCEAAC,
                0 0 0.875rem #FCEAAC;
        }
        .overlay-footer {
            width: inherit;
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            padding-bottom: 50px;
            bottom: 0;
            position: absolute;
        }
        .overlay-footer-stake {
            margin-top: 20px;
            padding-bottom: 50px;
            bottom: 0;
            position: absolute;
        }
        .overlay-footer button {
            padding: 8px 16px;
            border-radius: 4px;
            border: none;
            cursor: pointer;
        }
        .cancel-button {
            background-color: #333;
            color: white;
        }
        .confirm-button {
            background-color: #333;
            box-shadow: 0 0 4px #e4d594;
            color: white;
        }
        .divider-container {
            color: #e4d594;
        }
        .divider {
            height: 2px;
            background-color: #e4d594;
            width: 30vw;
        }
        .divider-text {
            margin: 0 10px;
        }
        .divider-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            margin: 16px 0;
        }
        .check-icon {
            display: inline-block;
            width: 16px;
            height: 16px;
            margin-left: 4px;
            position: relative;
        }
        .check-icon:before {
            content: '';
            position: absolute;
            width: 8px;
            height: 12px;
            border-right: 2px solid white;
            border-bottom: 2px solid white;
            transform: rotate(45deg);
            top: 0;
            left: 4px;
        }
        
        .victor-mono {
            font-family: "Victor Mono", monospace;
            font-optical-sizing: auto;
            font-weight: normal;
            font-style: normal;
        }

        /* Settings overlay styles */
        .sound-option {
            color: white;
        }
        .icon-container {
            font-size: 1.5rem;
            display: inline-block;
            width: 30px;
            text-align: center;
        }
        .loader-container {
            height: 10px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 12px;
        }
        .loader-bar {
            height: 100%;
            width: 0;
            transition: width 0.3s ease;
        }
        .glowing-button {
            position: absolute; /* Ensure ::after is positioned relative to this */
            bottom: 9%;
            padding: 6px 50px;
            font-size: 18px;
            font-weight: bold;
            color: white;
            cursor: pointer;
            border-radius: 12px;
            border-width: 5px;
            border-style: solid;
            border-color: #c09c0e;
            background-color: #fada60;
            font-weight: bold;
            text-shadow: 
                -1px -1px 0 orange,  
                1px -1px 0 orange,
                -1px  1px 0 orange,
                1px  1px 0 orange;
            overflow: hidden; /* Prevents the light effect from overflowing */
        }

        /* Light reflection effect */
        .glowing-button::after {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 200%; /* Reduce width to prevent excessive overflow */
            height: 100%;
            background: linear-gradient(
                100deg,
                rgba(255, 255, 255, 0) 40%,
                rgba(255, 255, 255, 0.4) 50%,
                rgba(255, 255, 255, 0) 60%
            );
            animation: light-sweep 2s infinite linear;
        }

        @keyframes light-sweep {
            0% {
                left: -100%;
            }
            100% {
                left: 100%;
            }
        }

        /* Free spins indicator */
        .free-spins-indicator {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(192, 156, 14, 0.8);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 1.0rem;
            font-weight: bold;
            z-index: 100;
            display: none;
        }

        /* Win message */
        .win-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0, 0, 0, 0.7);
            color: #fada60;
            padding: 15px 30px;
            border-radius: 10px;
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            animation: bounce 1s infinite;
            z-index: 100;
            display: none;
        }

        .mobile-wrapper {
            max-width: 100vw;
            max-height: 100vh;
        }
        .autoplay-button, .stake-button{
            height: 70px;
            width: 70px;
        }
        .spin-img{
            height: 55px;
            width: 55px;
        }
        .spin-button{
            height: 85px;
            width: 85px;
        }
        .autospininner-img{
            height: 30px;
            width: 30px;
        }
        .autospininnerimgstop{
            height: 25px;
            width: 25px;
        }
        .totalbetinner-img{
            height: 25px;
        }
        .current-stake{
            font-size: 1.2rem;
            color: #f6d64e;
        }
        #playground{
            height: 35vh;
        }
        .fs-text-image{
            max-height: 25px;
        }
        #remaining_fs_holder, #total_fs_holder{
            color: #8cc904;
            font-size: 2.0rem;
            font-weight: bold;
        }

        @media screen and (min-width: 900px) {
            .sunburst-container {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 80vw;
                max-width: 600px;
                height: 80vw;
                max-height: 600px;
                z-index: 10; /* Higher than coins */
                display: flex;
                align-items: center;
                justify-content: center;
                overflow: visible;
                pointer-events: none;
            }
            #gameinfo_overlay {
                width: 100%;
                height: 100%;
                top: 0;
                left: 0;
                left: 50%;
                transform: translate(-50%, -0%);
                background-color: black;
                z-index: 2002;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                display: none;
                position: relative;
                overflow: auto;
            }
            #jdb_overlay {
                max-width: 320px;
                max-height: 5100px;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                left: 50%;
                transform: translate(-50%, -0%);
                background-color: black;
                z-index: 2002;
                flex-direction: column;
                align-items: center;
                justify-content: center;
            }
            #kong_overlay {
                max-width: 320px;
                max-height: 5100px;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                left: 50%;
                transform: translate(-50%, -0%);
                background-image: url('kong_bcg5.png');
                background-size: contain;
                background-repeat: no-repeat;
                background-color: black;
                z-index: 2001;
                flex-direction: column;
                align-items: center;
                justify-content: center;
            }
            .overlay {
                position: absolute;
                max-width: 320px;
                max-height: 5100px;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                left: 50%;
                transform: translate(-50%, -0%);
                background-color: rgba(0, 0, 0, 1);
                z-index: 2000;
                display: none;
                flex-direction: column;
                align-items: center;
                justify-content: center;
            }
            #playground{
                max-height: 200px;
                width: 100%;
            }
            .mobile-wrapper {
                max-width: 320px;
                max-height: 490px;
            }
            .autoplay-button, .stake-button{
                height: 55px;
                width: 55px;
            }
            .spin-img{
                height: 45px;
                width: 45px;
            }
            .spin-button{
                height: 70px;
                width: 70px;
            }
            .autospininner-img{
                height: 30px;
                width: 30px;
            }
            .autospininnerimgstop{
                height: 25px;
                width: 25px;
            }
            .totalbetinner-img{
                height: 21px
            }
            .current-stake{
                font-size: 1.0rem;
                color: #f6d64e;
            }
            .fs-text-image{
                max-height: 20px;
            }
            #remaining_fs_holder, #total_fs_holder{
                color: #8cc904;
                font-size: 1.5rem;
                font-weight: bold;
            }
        }

        .btn-gold {
            background-color: #b8860b;
            color: white;
            border: none;
            font-weight: bold;
            transition: background-color 0.3s;
        }

        .btn-gold:hover {
            background-color: #a67c00;
            color: white;
        }

        #winOverlay{
            position: absolute;
            width: 100%;
            min-height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        #closeBtn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 8px;
            z-index: 20;
        }

        .win-content {
            position: relative;
            text-align: center;
            z-index: 15;
        }

        /* Rotating sunburst effect */
        .sunburst-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100vw;
            max-width: 600px;
            height: 80vw;
            max-height: 600px;
            z-index: 10; /* Higher than coins */
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: visible;
            pointer-events: none;
        }

        .sunburst {
            width: 100%;
            height: 100%;
            background-image: url('https://hebbkx1anhila5yf.public.blob.vercel-storage.com/BigWin_FX-pnFZvgsE0rjtfTiTODDEY1oM6AHQJ4.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            animation: rotate 10s linear infinite;
        }

        /* Colored overlays for different win levels */
        .big-win-color {
            filter: none;
        }

        .mega-win-color {
            filter: none; /* Original gold/yellow color */
        }

        .ultra-win-color {
            filter: none;
        }

        @keyframes rotate {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        .win-text {
            font-size: calc(2rem + 2vw);
            font-weight: bold;
            margin-bottom: 16px;
            text-shadow: 0 0 10px currentColor, 0 0 20px currentColor;
            animation: text-flicker 2s infinite;
            transition: color 0.5s, transform 0.5s;
            position: relative;
            z-index: 20;
        }

        .counter-text {
            font-size: calc(0.5rem + 2vw);
            font-weight: bold;
            color: #a67c00;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.7), 0 0 20px rgba(255, 215, 0, 0.5);
            animation: pulse 1.5s infinite;
            position: relative;
            z-index: 20;
        }

        #coinsContainer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
            z-index: 5; /* Lower than sunburst */
        }

        .coin {
            position: absolute;
            filter: drop-shadow(0 0 5px rgba(255, 215, 0, 0.7));
            transition: transform 0.05s ease-out;
            z-index: 5; /* Lower than sunburst */
        }

        /* Win level styles */
        .big-win {
            color: #ffd700;
        }

        .mega-win {
            color: #ffd700;
        }

        .ultra-win {
            color: #ffd700;
        }

        @keyframes text-flicker {
            0%, 100% {
                opacity: 1;
                text-shadow: 0 0 10px currentColor, 0 0 20px currentColor;
            }
            50% {
                opacity: 0.9;
                text-shadow: 0 0 15px currentColor, 0 0 25px currentColor;
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        @keyframes scale-in {
            0% {
                transform: scale(0.5);
                opacity: 0;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .scale-in {
            animation: scale-in 0.5s forwards;
        }

        /* Features overlay */
        #featuresOverlay {
            display: none;
            z-index: 9999;
            position: absolute;
            height: 100%;
            width: 100%;
            background-color: rgb(0,0,0,0.8);
        }

        /* Device overlay */
        #device_overlay {
            display: none;
        }

        /* Free spins overlay */
        #freespinsoverlay {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            background-color: rgba(0, 0, 0, 0.8);
            height: 100%;
            width: 100%;
            z-index: 999999;
        }

        /* Start free spins overlay */
        #startfreespinsoverlay {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 100%;
            z-index: 999999;
        }

        /* Responsive adjustments */
        @media (max-width: 576px) {
            .btn-group {
                flex-direction: column;
                width: 100%;
            }
            
            .btn-group .btn {
                margin-bottom: 0.5rem;
                width: 100%;
            }
            
            .win-text {
                font-size: calc(1.5rem + 2vw);
            }
            
            .counter-text {
                font-size: calc(1em + 2vw);
            }
        }
    </style>
</head>
<body class="w-100">
<div style="background-image: url('page_bcg.png'); background-size: cover; height: 100vh; padding: 0 !important;">
    <div style="z-index: 3; position: absolute;">
        <button id="featuresButton" class="btn btn-warning mt-5 mb-2 mx-3">
            Feature
        </button>
    </div>
    <div id="featuresOverlay">
       <div style="height: 100%; width: 100%; font-weight: bold;" class="d-flex justify-content-center align-items-center">
            <div class="mx-auto">
                <div class="mx-auto">
                    <button onclick="setDemoFeature('big spin')" class="btn btn-warning btn-lg my-2 mb-2 mx-3">
                        Feature 1
                    </button>
                </div>
                <div class="mx-auto">
                    <button onclick="setDemoFeature('big win')" class="btn btn-warning btn-lg my-2 mx-3">
                        Feature 2
                    </button>
                </div>
                <div class="mx-auto">
                    <button onclick="setDemoFeature('free spins')" class="btn btn-warning btn-lg my-2 mb-2 mx-3">
                        Feature 3
                    </button>
                </div>
            </div>
       </div>
    </div>

    <div id="gameinfo_overlay" class="mx-auto" style="max-height: 100vh !important; overflow-y: scroll; overflow-x: hidden;">
        <div class="divider-container">
            <div class="divider-wrapper">
                <div class="divider-text h3">GAME RULE</div>
            </div>
        </div>
        <div class="d-flex justify-content-center align-items-center">
            <div style="width: 90%;background-color: #e4d594;height: 5px;"></div>
        </div>
        <div class="" style="color: white;">
            <div style="border: 1px;border-color: #e4d594;font-size: 1.0rem;border-style: solid;" class="py-4 mx-3 d-flex justify-content-center align-items-around my-3">
                <div class="px-2">
                    <span style="color: #e4d594;"> Denomination:</span> 0.01
                </div>
                <div class="px-2">
                    <span style="color: #e4d594;">Bet Multiplier:</span> 1
                </div>
            </div>
            <div class="row px-3">
                <div class="col-lg-3 col-md-12 col-sm-12 text-center px-4" style="font-weight: bold;">
                    <img src="wild.png" style="max-width: 100px;" alt="">
                    <div class="h3">WILD</div>
                </div>
                <div class="col-lg-9 col-md-12 col-lg-12" style="font-weight: bold;">
                    ONLY APPEARS ON REELS 2,3,4 AND 5.
                    <br>
                    <br>
                    <div class="d-flex justify-content-start align-items-center">
                        SUBSTITUTES FOR ALL SYMBOLS EXCEPT <img style="width: 40px;height: auto;" src="scatter.png" alt="">
                    </div>
                </div>
            </div>


            <div class="row px-3 my-3">
                <div class="col-lg-3 col-md-12 col-sm-12 text-center px-4 mb-3">
                    <img src="scatter.png" style="max-width: 100px;" alt="">
                    <div class="h3">FREE SPIN BONUS</div>
                </div>
                <div class="col-lg-9 col-md-12 col-lg-12" style="font-weight: bold;">
                    APPEARS ON ALL REELS
                    <br>
                    <div class="">
                        IF ATLEAST ONE <img style="width: 40px;height: auto;" src="scatter.png" alt=""> APPEARS ON ALL REELS FREE SPIN BONUS WITH 13 FREE SPINS AND A BONUS MULTIPLIER WILL BE TRIGGERED 
                    </div>

                    <div class="mt-4">
                        <div class="my-1">
                            5 <img style="width: 40px;height: auto;" class="px-1" src="scatter.png" alt=""> AWARD 3X BONUS MULTIPLIER
                        </div>
                        <div class="my-1">
                            6 <img style="width: 40px;height: auto;" class="px-1" src="scatter.png" alt=""> AWARD 6X BONUS MULTIPLIER
                        </div>
                        <div class="my-1">
                            7 <img style="width: 40px;height: auto;" class="px-1" src="scatter.png" alt=""> AWARD 12X BONUS MULTIPLIER
                        </div>
                        <div class="my-1">
                            8 <img style="width: 40px;height: auto;" class="px-1" src="scatter.png" alt=""> AWARD 24X BONUS MULTIPLIER
                        </div>
                        <div class="my-1">
                            9 <img style="width: 40px;height: auto;" class="px-1" src="scatter.png" alt=""> AWARD 36X BONUS MULTIPLIER
                        </div>
                        <div class="my-1">
                            10 <img style="width: 40px;height: auto;" class="px-1" src="scatter.png" alt=""> AWARD 72X BONUS MULTIPLIER
                        </div>
                    </div>
                </div>
            </div>

            <div class="divider-container">
                <div class="divider-wrapper">
                    <div class="divider-text h2" style="font-weight: bold;" >PAYTABLE</div>
                </div>
            </div>

            <div class="d-flex justify-content-center align-items-center">
                <div style="width: 90%;background-color: white;height: 2px;"></div>
            </div>

            <div class="row my-4" style="font-size: 1.1rem;font-weight: bold;">
                <div class="my-3 col-12 col-lg-4 col-dm-4 col-sm-12 d-flex justify-content-center align-items-center align-items-center mx-2">
                    <img src="treasurechest.png" style="max-width: 100px;" alt="">
                    <div class="px-4">
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">5 - </span> 250
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">4 - </span> 100
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">3 - </span> 40
                        </div>
                    </div>
                </div>
                <div class="col-12 my-3 col-lg-4 col-dm-4 col-sm-12 d-flex justify-content-center align-items-center align-items-center mx-2">
                    <img src="explorer.png" style="max-width: 100px;" alt="">
                    <div class="px-4">
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">5 - </span> 200
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">4 - </span> 80
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">3 - </span> 30
                        </div>
                    </div>
                </div>
                <div class="col-12 my-3 col-lg-4 col-dm-4 col-sm-12 d-flex justify-content-center align-items-center align-items-center mx-2">
                    <img src="compass.png" style="max-width: 100px;" alt="">
                    <div class="px-4">
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">5 - </span> 175
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">4 - </span> 60
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">3 - </span> 25
                        </div>
                    </div>
                </div>
            </div>
            <div class="row my-4" style="font-size: 1.1rem;font-weight: bold;">
                <div class="my-3 col-12 col-lg-4 col-dm-4 col-sm-12 d-flex justify-content-center align-items-center align-items-center mx-2">
                    <img src="binoculars.png" style="max-width: 100px;" alt="">
                    <div class="px-4">
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">5 - </span> 150
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">4 - </span> 50
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">3 - </span> 20
                        </div>
                    </div>
                </div>
                <div class="my-3 col-12 col-lg-4 col-dm-4 col-sm-12 d-flex justify-content-center align-items-center align-items-center mx-2">
                    <img src="a.png" style="max-width: 100px;" alt="">
                    <div class="px-4">
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">5 - </span> 100
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">4 - </span> 20
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">3 - </span> 10
                        </div>
                    </div>
                </div>
                <div class="my-3 col-12 col-lg-4 col-dm-4 col-sm-12 d-flex justify-content-center align-items-center align-items-center mx-2">
                    <img src="k.png" style="max-width: 100px;" alt="">
                    <div class="px-4">
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">5 - </span> 90
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">4 - </span> 15
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">3 - </span> 8
                        </div>
                    </div>
                </div>
            </div>
            <div class="row my-4" style="font-size: 1.1rem;font-weight: bold;">
                <div class="my-3 col-12 col-lg-4 col-dm-4 col-sm-12 d-flex justify-content-center align-items-center align-items-center mx-2">
                    <img src="q.png" style="max-width: 100px;" alt="">
                    <div class="px-4">
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">5 - </span> 80
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">4 - </span> 12
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">3 - </span> 6
                        </div>
                    </div>
                </div>
                <div class="my-3 col-12 col-lg-4 col-dm-4 col-sm-12 d-flex justify-content-center align-items-center align-items-center mx-2">
                    <img src="j.png" style="max-width: 100px;" alt="">
                    <div class="px-4">
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">5 - </span> 70
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">4 - </span> 10
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">3 - </span> 5
                        </div>
                    </div>
                </div>
                <div class="my-3 col-12 col-lg-4 col-dm-4 col-sm-12 d-flex justify-content-center align-items-center align-items-center mx-2" style="visibility: hidden;">
                    
                </div>
            </div>

            <div style="font-size: 1.0rem;" class="text-center">
                <div class="my-1">
                    ALL WINS PAY LEFTMOST TO RIGHT, EXCEPT <img src="scatter.png" style="max-width: 40px;" alt="">
                </div>
                <div class="my-1">
                    PAYTABLE WINS ARE SHOWN FOR BET MULTIPLIER X1.
                </div>
                <div class="my-1">
                    PAYTABLE WINS ARE SHOWN IN CREDITS
                </div>
            </div>

            <div class="divider-container mt-5">
                <div class="divider-wrapper">
                    <div class="divider-text h2" style="font-weight: bold;">FREE SPIN BONUS</div>
                </div>
            </div>

            <div class="d-flex justify-content-center align-items-center">
                <div style="width: 90%;background-color: white;height: 2px;"></div>
            </div>
            

            <div style="font-size: 1.0rem;border: 1px;border-style: solid;border-color: white;" class="px-4 my-3 mx-3 py-2">
                IF AT LEAST ONE <img style="max-width: 40px;" src="scatter.png" alt=""> APPEARS ON EACH REEL, ADDITIONAL 13 FREE SPINS ARE AWARDED, TO A MAXIMUM OF 100 FREE SPINS IN A SINGLE BOUGHT GAME. RETRIGGER OF FREE SPIN BONUS WILL NOT CHANGE THE BONUS MULTIPLIER OF THE FREE SPIN BONUS. 
                <br>
                DURING FREE SPIN BONUS, THE WINS ARE MULTIPLIED BY THE BONUS MULTIPLIER AND ADDED TO THE WIN METER
            </div>

            <div style="border: 1px;border-color: #e4d594;font-size: 1.0rem;border-style: solid;" class="py-4 mx-3 d-flex justify-content-center align-items-around my-3">
                <div class="px-2">
                    <span style="color: #e4d594;"> Denomination:</span> 0.01
                </div>
                <div class="px-2">
                    <span style="color: #e4d594;">Bet Multiplier:</span> 1
                </div>
            </div>

            <div class="row px-3">
                <div class="col-lg-3 col-md-12 col-sm-12 text-center px-4" style="font-weight: bold;">
                    <img src="wild.png" style="max-width: 100px;" alt="">
                    <div class="h3">WILD</div>
                </div>
                <div class="col-lg-9 col-md-12 col-lg-12" style="font-weight: bold;">
                    ONLY APPEARS ON REELS 2,3,4 AND 5.
                    <br>
                    <br>
                    <div class="d-flex justify-content-start align-items-center">
                        SUBSTITUTES FOR ALL SYMBOLS EXCEPT <img style="width: 40px;height: auto;" src="scatter.png" alt="">
                    </div>
                </div>
            </div>

            <div class="row px-3 my-3">
                <div class="col-lg-3 col-md-12 col-sm-12 text-center px-4 mb-3">
                    <img src="scatter.png" style="max-width: 100px;" alt="">
                    <div class="h3">FREE SPIN BONUS</div>
                </div>
                <div class="col-lg-9 col-md-12 col-lg-12" style="font-weight: bold;">
                    APPEARS ON ALL REELS
                </div>
            </div>


            <div class="row my-4" style="font-size: 1.1rem;font-weight: bold;">
                <div class="my-3 col-12 col-lg-4 col-dm-4 col-sm-12 d-flex justify-content-center align-items-center align-items-center mx-2">
                    <img src="treasurechest.png" style="max-width: 100px;" alt="">
                    <div class="px-4">
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">5 - </span> 250
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">4 - </span> 100
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">3 - </span> 40
                        </div>
                    </div>
                </div>
                <div class="col-12 my-3 col-lg-4 col-dm-4 col-sm-12 d-flex justify-content-center align-items-center align-items-center mx-2">
                    <img src="explorer.png" style="max-width: 100px;" alt="">
                    <div class="px-4">
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">5 - </span> 200
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">4 - </span> 80
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">3 - </span> 30
                        </div>
                    </div>
                </div>
                <div class="col-12 my-3 col-lg-4 col-dm-4 col-sm-12 d-flex justify-content-center align-items-center align-items-center mx-2">
                    <img src="compass.png" style="max-width: 100px;" alt="">
                    <div class="px-4">
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">5 - </span> 175
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">4 - </span> 60
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">3 - </span> 25
                        </div>
                    </div>
                </div>
            </div>
            <div class="row my-4" style="font-size: 1.1rem;font-weight: bold;">
                <div class="my-3 col-12 col-lg-4 col-dm-4 col-sm-12 d-flex justify-content-center align-items-center align-items-center mx-2">
                    <img src="binoculars.png" style="max-width: 100px;" alt="">
                    <div class="px-4">
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">5 - </span> 150
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">4 - </span> 50
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">3 - </span> 20
                        </div>
                    </div>
                </div>
                <div class="my-3 col-12 col-lg-4 col-dm-4 col-sm-12 d-flex justify-content-center align-items-center align-items-center mx-2">
                    <img src="a.png" style="max-width: 100px;" alt="">
                    <div class="px-4">
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">5 - </span> 100
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">4 - </span> 20
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">3 - </span> 10
                        </div>
                    </div>
                </div>
                <div class="my-3 col-12 col-lg-4 col-dm-4 col-sm-12 d-flex justify-content-center align-items-center align-items-center mx-2">
                    <img src="k.png" style="max-width: 100px;" alt="">
                    <div class="px-4">
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">5 - </span> 90
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">4 - </span> 15
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">3 - </span> 8
                        </div>
                    </div>
                </div>
            </div>
            <div class="row my-4" style="font-size: 1.1rem;font-weight: bold;">
                <div class="my-3 col-12 col-lg-4 col-dm-4 col-sm-12 d-flex justify-content-center align-items-center align-items-center mx-2">
                    <img src="q.png" style="max-width: 100px;" alt="">
                    <div class="px-4">
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">5 - </span> 80
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">4 - </span> 12
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">3 - </span> 6
                        </div>
                    </div>
                </div>
                <div class="my-3 col-12 col-lg-4 col-dm-4 col-sm-12 d-flex justify-content-center align-items-center align-items-center mx-2">
                    <img src="j.png" style="max-width: 100px;" alt="">
                    <div class="px-4">
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">5 - </span> 70
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">4 - </span> 10
                        </div>
                        <div class="my-1">
                            <span style="color: #e4d594;font-weight: bold;">3 - </span> 5
                        </div>
                    </div>
                </div>
                <div class="my-3 col-12 col-lg-4 col-dm-4 col-sm-12 d-flex justify-content-center align-items-center align-items-center mx-2" style="visibility: hidden;">
                    
                </div>
            </div>

            <div style="font-size: 1.0rem;" class="text-center">
                <div class="my-1">
                    ALL WINS PAY LEFTMOST TO RIGHT, EXCEPT <img src="scatter.png" style="max-width: 40px;" alt="">
                </div>
                <div class="my-1">
                    PAYTABLE WINS ARE SHOWN FOR BET MULTIPLIER X1.
                </div>
                <div class="my-1">
                    PAYTABLE WINS ARE SHOWN IN CREDITS
                </div>
            </div>

            <div class="divider-container mt-5">
                <div class="divider-wrapper">
                    <div class="divider-text" style="font-weight: bold;">243 WAYS</div>
                </div>
            </div>

            <div class="d-flex justify-content-center align-items-center">
                <div style="width: 90%;background-color: white;height: 2px;"></div>
            </div>

            <div class="row px-3 my-3">
                <div class="col-lg-3 col-md-12 col-sm-12 text-center px-4">
                    <img src="tick.png" class="mx-4" style="max-width: 80%;" alt="">
                </div>
                <div class="col-lg-9 col-md-12 col-lg-12">
                    REELS = 5
                    <div class="d-flex justify-content-start align-items-center">
                        PLAY 5 REELS WITH MINIMUM BET 30 MULTIPLIED BY DENOMINATION.
                    </div>
                </div>
            </div>
            <div>
                <div style="width: 90%;margin-bottom: 140px;" class="mx-auto mt-3 pb-3">
                    <div>
                        ALL WINNING COMBINATIONS PAY FROM LEFT TO RIGHT ON ADJACENT REELS BEGINNING FROM LEFTMOST EXCEPT <img src="scatter.png" style="width: 40px;" alt="">
                    </div>
                    <div>
                        ALL WINS ARE MULTIPLIED BY THE BET MULTIPLIER. ONLY THE HIGHEST WINNING COMBINATION IS PAID ON EACH PAY WAY.
                    </div>
                </div>
            </div>
        </div>

        <div class="text-center py-3 w-100" style="position: fixed;bottom: 0;background-color: #191818;color: white;font-size: 1.0rem;z-index: 9999;margin: 0 !important;">
            <div>
                MALFUNCTION VOIDS ALL PLAYS AND PAYS.
            </div>
            <div class="my-2 d-flex justify-content-center align-items-center">
                <div class="d-flex justify-content-center align-items-center" style="height: 45px;width: 45px;border-radius: 50%;border-color: white;border-style: solid;">
                    <i id="close_info_button" class="fa fa-arrow-left fa-2x py-2 px-2"></i>
                </div>
            </div>
        </div>
    </div>

    <div class="mobile-wrapper mx-auto">
        <div id="device_overlay">
            <div class="d-flex flex-column justify-content-center align-items-center text-center p-4" 
                style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.99); color: white; font-size: 1.5rem; text-align: center; z-index: 9999; display: flex;">
                <div class="container">
                    <h2 class="fw-bold">FOR AN OPTIMAL GAMING EXPERIENCE</h2>
                    <p class="lead">USE A MOBILE DEVICE</p>
                    <div class="my-3 text-center my-3">
                        <i class="fa fa-mobile-alt fa-3x"></i>
                    </div>
                </div>
            </div>
        </div>

        <div id="winOverlay" class="mobile-wrapper">
            <button id="closeBtn" class="btn-close btn-close-white" aria-label="Close"></button>
            <div id="coinsContainer"></div>
            <div class="sunburst-container">
                <div id="sunburst" class="sunburst mega-win-color"></div>
            </div>
            <div class="win-content">
                <h2 id="winText" class="win-text big-win">
                <img id="winImg" style="max-width: 200px;" src="winlevels/bigwin.png" alt="">
                </h2>
                <div class="counter-text" id="winAmount">$0</div>
            </div>
        </div>
        
        <div id="jdb_overlay">
            <div style="height: 100%; width: 100%;" class="d-flex justify-content-center align-items-center">
                <div class="row">
                    <div class="d-flex justify-content-center align-items-center mx-auto">
                        <div>
                            <img src="jdb_logo.png" style="max-width: 100%;" alt="mx-auto">
                            <div class="d-flex justify-content-center mx-auto">
                                <div class="loader-container" style="width: 50%; border-style: solid; border-width: 1px; border-radius: 12px;">
                                    <div class="loader-bar" style="border-radius: 12px;" id="loader-bar"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div id="kong_overlay">
            <div class="d-flex justify-content-center">
                <button class="glowing-button text-white" onclick="hideKongOverlay()">START</button>
            </div>
        </div>
    
        <div id="game-container" class="victor-mono">
            <div>
                <img id="img_top" src="bg-top6.gif" style="width: 100%;height: auto;" alt="">
                <img id="img_top_volcano_part_1" src="volcano.gif" style="width: 100%;height: auto;display: none;" alt="">
                <img id="img_top_volcano_part_2" src="volcano-part-2-complete.gif" style="width: 100%;height: auto;display: none;" alt="">
            </div>
            <div id="playground" style="position: relative; overflow: hidden; background: url('nbcg1.png'); height: 35vh; width: 100%; background-size: cover; z-index: 99; padding-top: 10px;">
                <!-- Start Free Spins Overlay -->
                <div id="startfreespinsoverlay">
                    <div class="d-flex justify-content-center align-items-center" style="height: 100%; width: 100%;">
                        <div id="startfreespinsbutton" class="py-1 px-3 text-white" style="border-radius: 6px; border: 2px white solid; font-size: 0.75rem; background-color: rgba(0, 0, 0, 0.8);">
                            PRESS REEL TO START THE BONUS
                        </div>
                    </div>
                </div>

                <!-- Free Spins Overlay -->
                <div id="freespinsoverlay">
                    <div class="py-3 px-3 d-flex justify-content-center align-items-center" style="height: 100%;width:100%;">
                        <img class="py-2 px-2" id="freespinsoverlayimg" src="freespinsoverlay.png" style="width: 85%; height: auto;" alt="">
                        <img class="py-2 px-2" id="freespinsoverlayimg2" src="additionalfreespins.png" style="display: none; width: 85%; height: auto;" alt="">
                    </div>
                </div>

                <!-- Game Canvas Content -->
                <div class="game-canvas-container">
                    <!-- Free Spins Indicator -->
                    <div id="free-spins-indicator" class="free-spins-indicator">
                        FREE SPINS: <span id="free-spins-count">0</span> | MULTIPLIER: <span id="bonus-multiplier">0</span>x
                    </div>

                    <!-- Win Message -->
                    <div id="win-message" class="win-message">
                        <div>BIG WIN!</div>
                        <div id="win-amount">0.00</div>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="game-controls p-2">
                <div id="results_holder" class="w-100 text-center text-white d-flex justify-content-center align-items-center" style="background-image: url('resultsbcg3.png');background-size: cover;height: 30px;font-size: 1.3rem;">
                    <div style="margin: 5px 0px;">
                        WIN <span class="px-1" id="update_winnings">0.00</span>
                    </div>
                </div>
                <div id="freespins_display" style="display: none; justify-content: center; align-items: center; padding-top: 2px;max-width: 100%;height: 100px;">
                    <img class="fs-text-image"  src="freespin_part_a.png" alt="">
                    <span class="px-3" id="remaining_fs_holder" >0</span>
                    <img class="fs-text-image" src="freespin_part_b.png"  alt="">
                    <span class="px-3" id="total_fs_holder">0</span>
                </div>
                <div id="normalspins_display" style="display: flex; justify-content: center; align-items: center; padding-top: 2px">
                    <div id="autoPlayButton" class="rounded-circle d-flex justify-content-center align-items-center autoplay-button" style="background-image: url('autospinbcg.png');background-size: cover;">
                        <img src="autospininnerimg.png" class="autospininner-img"  alt="">
                    </div>
                    <div id="spinButton" class="mx-4 d-flex justify-content-center align-items-center spin-button" style="border-radius: 50%;background-image: url('spinbcg.png');background-size: cover;">
                        <div id="remainingAutoSpins" style="z-index: 2;position: absolute;color: darkorange;font-weight:bolder;font-size: 1.5rem;">
                        </div>
                        <div class="d-flex justify-content-center align-items-center spin-img" id="spin_img" style="background: url('spininnerimg.png');background-size: cover;">
                            
                        </div>
                    </div>
                    
                    <!-- Stake button that opens the overlay -->
                    <div id="stakeButton" class="text-center d-flex justify-content-center align-items-center stake-button" style="background-image: url('totalbetbcg.png');background-size: cover;color: orange;font-size: 0.85rem;line-height: 1;font-weight: 900;border-radius: 50%;">
                        <div>
                            <div class="d-flex justify-content-center">
                                <img src="totalbetinnerimg.png" class="totalbetinner-img"  alt="">
                            </div>
                            <div class="text-center">
                                <span id="currentStake" class="current-stake">0.3</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="container mb-2">
                    <div style="display: flex; width: 100%; position: relative; align-items: center;">
                        <div onclick="displaySettingsOverlay2()" id="settingsButton" style="border-radius: 50%;width: 50px; height: 50px;background-image: url('settings.png');background-size: cover;">
                        </div>

                        <!-- Button at the center -->
                        <div style="position: absolute; left: 50%; transform: translateX(-50%); text-align: center;">
                            <span class="text-center">
                                <span class="badge px-4 py-2 text-white" style="background-color: rgba(0,0,0,0.7);">CREDIT: <span id="balanceText">...</span></span>
                                <br>
                                <span class="text-white text-center" style="font-size: 1.0rem;">
                                    &lt; <span>DEMO GAME</span> &gt;
                                </span>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <!-- Stake Selection Overlay -->
        <div id="stakeOverlay" class="overlay" style="margin: 0 !important;padding: 0 !important;">
            <div class="divider-container">
                <div class="divider-wrapper">
                    <div class="divider"></div>
                    <div class="divider-text">TOTAL BET</div>
                    <div class="divider"></div>
                </div>
            </div>
            <div class="overlay-content-stake ">
                <div class="overlay-header">FUN</div>
                <div class="options-grid mx-auto" id="stakeOptions">
                    <button class="option-button" data-value="3.0">3.0</button>
                    <button class="option-button" data-value="1.5">1.5</button>
                    <button class="option-button" data-value="0.9">0.9</button>
                    <button class="option-button" data-value="0.6">0.6</button>
                    <button class="option-button selected" data-value="0.3">0.3</button>
                </div>
                <div class="text-center text-white mt-5 pt-5">
                    <span style="margin-left: 20px;">
                        Reels: 5
                    </span>
                </div>
                <div class="overlay-footer w-100">
                    <button style="display: none;" class="cancel-button px-4" id="cancelStake">Cancel</button>
                    <button class="confirm-button px-5" id="confirmStake">OK</button>
                </div>
            </div>
        </div>
    
        <!-- Auto Spin Overlay -->
        <div id="autoSpinOverlay" class="overlay">
            <div class="divider-container">
                <div class="divider-wrapper">
                    <div class="divider"></div>
                    <div class="divider-text">AUTOPLAYS</div>
                    <div class="divider"></div>
                </div>
            </div>
            <div class="overlay-content w-100" style="margin-top: 20px !important;">
                <div class="mb-2 text-white">
                    NUMBER OF SPINS
                </div>
                <div class="options-grid" id="autoSpinOptions">
                    <button class="option-button" data-value="0"><i class="fa fa-stop"></i></button>
                    <button class="option-button" data-value="999">999</button>
                    <button class="option-button" data-value="200">200</button>
                    <button class="option-button" data-value="100">100</button>
                    <button class="option-button" data-value="30">30</button>
                </div>
                
<div class="mt-4 mb-2 text-white">
    LOSS LIMIT
</div>
<div class="options-grid" id="lossLimitOptions">
    <button class="option-button" data-value="Infinity"><i class="fa fa-infinity"></i></button>
    <button class="option-button" data-value="500">500<span style="font-size: 0.7rem;">x BET</span></button>
    <button class="option-button" data-value="100">100<span style="font-size: 0.7rem;">x BET</span></button>
    <button class="option-button" data-value="50">50<span style="font-size: 0.7rem;">x BET</span></button>
    <button class="option-button" data-value="10">10<span style="font-size: 0.7rem;">x BET</span></button>
</div>
                <div class="divider-container my-3">
                    <div class="divider-wrapper">
                        <div style="height: 2px;background-color: #e4d594;width: 25vw;"></div>
                        <div class="divider-text" >QUICK SPIN</div>
                        <div style="height: 2px;background-color: #e4d594;width: 25vw;"></div>
                    </div>
                </div>
                <div class="d-flex justify-content-center align-items-center">
                    <img id="quickspin-toggle" src="quickspin-a.png" style="height: 60px;width: 60px;" alt="">
                </div>
                <div class="overlay-footer">
                    <button class="cancel-button" id="cancelAutoSpin">Cancel</button>
                    <button class="confirm-button px-5" id="confirmAutoSpin">Ok</button>
                </div>
            </div>
        </div>
    
        <!-- Settings Overlay -->
        <div id="settingsOverlay" class="overlay" style="background-color: rgb(0,0,0,0.8);margin: 0 !important;padding: 0 !important;">
            <div class="divider-container">
                <!-- <div class="divider-wrapper">
                    <div class="divider"></div>
                    <div class="divider-text">SETTINGS</div>
                    <div class="divider"></div>
                </div> -->
            </div>
            <div onclick="hideSettingsOverlay()" class="overlay-content w-100" style="height: 100%;;margin: 0 !important;padding: 0 !important;">
                <div>
                    <div style="display: none;">
                        <div class="d-flex justify-content-center">
                            <div id="soundEffectsOption" class="sound-option selected mx-auto">
                                <div>
                                    <span id="soundEffectsIcon" class="icon-container">🔊</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="overlay-footer" style="background-image: url('bcg-settings.png');background-size: cover;margin: 0 !important;padding: 0 !important;">
                <div class="w-100 mb-2">
                    <div class="d-flex justify-content-around align-items-center py-5 px-3 w-100">
                        <div id="info_button" class="sound-option selected">
                            <div class="d-flex justify-content-center align-items-center" style="color:#e4d594;width: 30px;height: 30px;border-radius: 50%;border-color: #e4d594;border-style: solid;">
                                <i class="fas fa-question" style="font-size: 1.2rem;font-weight: bold;" ></i>
                            </div>
                        </div>
                        <div id="backgroundMusicOption" class="sound-option selected">
                            <div>
                                <span id="backgroundMusicIcon" class="icon-container">
                                    <i class="fa fa-volume-up" style="color: #e4d594;font-size: 1.4rem;"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-center text-white">
                        <i class="fa fa-user px-1"></i> <span style="font-size: 0.7rem;">demo004817</span>
                    </div>
                </div>
                <div class="d-none">
                    <button class="cancel-button px-4" id="cancelSettings">Cancel</button>
                    <button class="confirm-button px-5" id="confirmSettings">OK</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.4.0/pixi.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@fand/gifuct-js@1.0.0/src/index.min.js"></script>
<script src="https://unpkg.com/omggif/omggif.js"></script>

<script>
    // Coin images for win animation
    coinImages = [
        "coins/0_BigWin_SS.png", "coins/1_BigWin_SS.png", "coins/2_BigWin_SS.png", "coins/3_BigWin_SS.png",
        "coins/4_BigWin_SS.png", "coins/5_BigWin_SS.png", "coins/6_BigWin_SS.png", "coins/7_BigWin_SS.png",
        "coins/8_BigWin_SS.png", "coins/9_BigWin_SS.png", "coins/10_BigWin_SS.png", "coins/11_BigWin_SS.png",
        "coins/12_BigWin_SS.png", "coins/13_BigWin_SS.png", "coins/14_BigWin_SS.png", "coins/15_BigWin_SS.png",
        "coins/16_BigWin_SS.png", "coins/17_BigWin_SS.png", "coins/18_BigWin_SS.png", "coins/19_BigWin_SS.png",
        "coins/20_BigWin_SS.png", "coins/21_BigWin_SS.png", "coins/22_BigWin_SS.png", "coins/23_BigWin_SS.png",
        "coins/24_BigWin_SS.png", "coins/25_BigWin_SS.png", "coins/26_BigWin_SS.png", "coins/27_BigWin_SS.png",
        "coins/28_BigWin_SS.png", "coins/29_BigWin_SS.png", "coins/30_BigWin_SS.png"
    ];
  
    // Preload images for smoother animation
    coinImages.forEach(src => {
        const img = new Image();
        img.src = src;
        img.crossOrigin = "anonymous";
    });

    // Win level configurations
    const winLevels = {
        big: {
            imgSrc: 'winlevels/bigwin.png',
            text: 'BIG WIN',
            textClass: 'big-win',
            sunburstClass: 'big-win-color',
            threshold: 100,
            coinCount: 50
        },
        mega: {
            imgSrc: 'winlevels/megawin.png',
            text: 'MEGA WIN',
            textClass: 'mega-win',
            sunburstClass: 'mega-win-color',
            threshold: 300,
            coinCount: 100
        },
        ultra: {
            imgSrc: 'winlevels/ultrawin.png',
            text: 'ULTRA WIN',
            textClass: 'ultra-win',
            sunburstClass: 'ultra-win-color',
            threshold: Infinity,
            coinCount: 200
        }
    };

    // Function to determine win level based on amount
    function getWinLevel(amount) {
        if (amount < winLevels.big.threshold) {
            return 'big';
        } else if (amount < winLevels.mega.threshold) {
            return 'mega';
        } else {
            return 'ultra';
        }
    }

    // Function to show the win animation
    function showWinAnimation(amount) {
        // do not show big win animation during free spins
        if (autoSpins > 0 || isFreeSpinMode){
            return
        }
        // Reset any existing animations
        clearTimeout(window.autoCloseTimeout);
        
        // Set initial win level
        let currentLevel = 'big';
        document.getElementById('winImg').src = "winlevels/bigwin.png";
        updateWinLevel(currentLevel);
        
        // Show the overlay
        const winOverlay = document.getElementById('winOverlay');
        winOverlay.style.display = 'flex';

        bigWinSound.play()
        
        // Start with $0
        let currentAmount = 0;
        const winAmount = document.getElementById('winAmount');
        winAmount.textContent = '$' + currentAmount.toLocaleString();
        
        // Create the coin fountain
        setTimeout(() => {
            createCoinFountain(winLevels[currentLevel].coinCount);
        }, 200);
        
        // Animate the counter
        const duration = 7000; // 7 seconds for the counter
        const fps = 60;
        const increment = amount / (duration / 1000 * fps);
        const startTime = performance.now();
        
        function updateCounter(timestamp) {
            const elapsed = timestamp - startTime;
            const progress = Math.min(elapsed / duration, 1);
            
            currentAmount = progress * amount;
            winAmount.textContent = '$' + Math.floor(currentAmount).toLocaleString();
            
            // Check if we need to upgrade the win level
            const newLevel = getWinLevel(currentAmount);
            if (newLevel !== currentLevel) {
                currentLevel = newLevel;
                updateWinLevel(currentLevel);
                
                // Add more coins for the new level
                createCoinFountain(winLevels[currentLevel].coinCount);
            }
            
            if (progress < 1) {
                requestAnimationFrame(updateCounter);
            } else {
                // Counter finished
                winAmount.textContent = '$' + amount.toLocaleString();
                
                // Auto close after 3 seconds
                window.autoCloseTimeout = setTimeout(() => {
                    closeWinAnimation();
                }, 7000);
            }
        }
        
        requestAnimationFrame(updateCounter);
    }
    
    // Function to update the win level visuals
    function updateWinLevel(level) {
        const winText = document.getElementById('winText');
        const winImg = document.getElementById('winImg');
        const sunburst = document.getElementById('sunburst');
        
        // Remove all classes
        winText.classList.remove('big-win', 'mega-win', 'ultra-win');
        sunburst.classList.remove('big-win-color', 'mega-win-color', 'ultra-win-color');
        
        // Add new classes
        winText.classList.add(winLevels[level].textClass);
        sunburst.classList.add(winLevels[level].sunburstClass);
        
        winImg.style.transform = 'scale(0.8)';
        setTimeout(() => {
            winImg.src = winLevels[level].imgSrc;
            winImg.style.transform = 'scale(1.2)';
            setTimeout(() => {
                winImg.style.transform = 'scale(1)';
            }, 150);
        }, 150);
    }

    // Function to close the win animation
    function closeWinAnimation() {
        removeBonusFrame()
        const winOverlay = document.getElementById('winOverlay');
        winOverlay.style.display = 'none';
        clearTimeout(window.autoCloseTimeout);
        
        // Clear all coins
        const coinsContainer = document.getElementById('coinsContainer');
        coinsContainer.innerHTML = '';

        bigWinSound.pause()
        backgroundMusic.play()
    }

    // Function to create the coin fountain with 3D rotating coins
    function createCoinFountain(numberOfCoins) {
        const coinsContainer = document.getElementById('coinsContainer');
        
        // Create fountain of coins
        const containerWidth = coinsContainer.offsetWidth;
        const containerHeight = coinsContainer.offsetHeight;
        
        // Center bottom position
        const centerX = containerWidth / 2;
        
        // Adjust coin count based on screen size
        const isMobile = window.innerWidth < 576;
        const actualCoinCount = isMobile ? Math.floor(numberOfCoins * 0.6) : numberOfCoins;
        
        for (let i = 0; i < actualCoinCount; i++) {
            setTimeout(() => {
                // Create coin container element
                const coin = document.createElement('div');
                coin.className = 'coin';
                
                // Random size between 10-30px on mobile, 20-40px on desktop
                const minSize = isMobile ? 20 : 30;
                const maxSizeRange = isMobile ? 30 : 30;
                const coinSize = Math.floor(Math.random() * maxSizeRange) + minSize;
                coin.style.width = `${coinSize}px`;
                coin.style.height = `${coinSize}px`;
                
                // Create the img element inside the coin div
                const coinImg = document.createElement('img');
                coinImg.src = coinImages[0]; // Start with the first image
                coinImg.style.width = '100%';
                coinImg.style.height = '100%';
                coinImg.crossOrigin = "anonymous"; // Avoid CORS issues
                coin.appendChild(coinImg);
                
                // Start at center bottom with slight random offset
                const startX = centerX + (Math.random() - 0.5) * 50;
                coin.style.left = `${startX}px`;
                coin.style.bottom = '0px';
                
                // Add to container
                coinsContainer.appendChild(coin);
                
                // Animate the coin in a fountain pattern with 3D rotation
                animateCoinFountain(coin, coinImg, startX, containerHeight);
            }, i * 40); // Stagger the coin creation
        }
    }

    // Function to animate a single coin in a fountain pattern with 3D rotation
    function animateCoinFountain(coin, coinImg, startX, containerHeight) {
        const coinsContainer = document.getElementById('coinsContainer');
        const containerWidth = coinsContainer.offsetWidth;
        
        // Adjust physics based on screen size
        const isMobile = window.innerWidth < 576;
        const velocityMultiplier = isMobile ? 0.8 : 1;
        
        // Random angle for the fountain spread (narrower at the bottom, wider at the top)
        const angle = ((Math.random() - 0.5) * Math.PI) / 4.0; // -45 to +45 degrees
        
        // Random initial velocity (speed)
        const initialVelocity = (15 + Math.random() * 10) * velocityMultiplier;
        
        // Calculate velocity components
        const vx = initialVelocity * Math.sin(angle);
        const vy = initialVelocity * Math.cos(angle);
        
        // Animation parameters
        const gravity = 0.55 * velocityMultiplier;
        const duration = 2000 + Math.random() * 1000;
        const fps = 60;
        const totalFrames = (duration / 1000) * fps;
        
        // Animation variables
        let currentFrame = 0;
        let x = startX;
        let y = 0;
        let velocityY = vy;
        
        // 3D rotation variables
        let currentImageIndex = 0;
        const rotationSpeed = (0.1 + Math.random() * 0.2) * velocityMultiplier; // Random rotation speed
        
        // Animation function
        const animate = () => {
            if (!coin.parentNode) return; // Stop if coin was removed
            
            // Update position with gravity
            x += vx;
            velocityY -= gravity;
            y += velocityY;
            
            // Update coin position
            coin.style.left = `${x}px`;
            coin.style.bottom = `${y}px`;
            
            // Update 3D rotation - change the image based on the current frame
            currentImageIndex = (currentImageIndex + rotationSpeed) % coinImages.length;
            coinImg.src = coinImages[Math.floor(currentImageIndex)];
            
            // Add perspective tilt based on movement direction
            const tiltX = vx * 2; // Tilt based on horizontal velocity
            const tiltY = velocityY; // Tilt based on vertical velocity
            coin.style.transform = `perspective(500px) rotateX(${tiltY}deg) rotateY(${tiltX}deg)`;
            
            // Adjust shadow based on height
            const shadowBlur = Math.min(5 + y/20, 15);
            coin.style.filter = `drop-shadow(0 0 ${shadowBlur}px rgba(255, 215, 0, 0.7))`;
            
            // Check if coin is still visible
            if (y < -100 || x < -100 || x > containerWidth + 100) {
                if (coin.parentNode) {
                    coin.parentNode.removeChild(coin);
                }
                return;
            }
            
            // Continue animation
            currentFrame++;
            if (currentFrame < totalFrames) {
                requestAnimationFrame(animate);
            } else {
                // Remove coin after animation completes
                if (coin.parentNode) {
                    coin.parentNode.removeChild(coin);
                }
            }
        };
        
        // Start animation
        requestAnimationFrame(animate);
    }

    // Handle window resize
    window.addEventListener('resize', function() {
        // Adjust sunburst size if needed
        const sunburstContainer = document.querySelector('.sunburst-container');
        if (sunburstContainer) {
            const size = Math.min(window.innerWidth * 0.8, 400);
            sunburstContainer.style.width = `${size}px`;
            sunburstContainer.style.height = `${size}px`;
        }
    });

    document.getElementById('closeBtn').addEventListener('click', () => {
        closeWinAnimation();
    });
    
    document.getElementById('winOverlay').addEventListener('click', (e) => {
        if (e.target === document.getElementById('winOverlay')) {
            closeWinAnimation();
        }
    });

    // Make the function available globally
    window.showWinAnimation = showWinAnimation;
    window.closeWinAnimation = closeWinAnimation;

    // GIF handling functions
    async function fetchGifAsBuffer(url) {
        const response = await fetch(url);
        const arrayBuffer = await response.arrayBuffer();
        return arrayBuffer;
    }

    async function getGifDuration(url) {
        const arrayBuffer = await fetchGifAsBuffer(url);
        const gif = gifuct.parseGIF(arrayBuffer);
        const frames = gifuct.decompressFrames(gif, true);
        
        const duration = frames.reduce((total, frame) => {
            const delay = frame.delay || 10; // in hundredths of a second
            return total + delay * 10; // convert to milliseconds
        }, 0);

        return duration;
    }

    async function onGifFinish(url, callback) {
        const duration = await getGifDuration(url);
        console.log(`GIF duration: ${duration}ms`);
        setTimeout(callback, duration);
    }

    // Background music
    const backgroundMusic = new Audio();
    backgroundMusic.src = 'gameaudio.mp3';
    backgroundMusic.loop = true;
    backgroundMusic.volume = 0.5;
    backgroundMusic.preload = 'auto';

    const bigWinSound = new Audio();
    bigWinSound.src = "sounds/SE_BigWin.mp3";
    bigWinSound.loop = true;
    backgroundMusic.volume = 0.8;

    const reelSpeedUpSound = new Audio();
    reelSpeedUpSound.src = "sounds/SE_ReelSpeedUp.mp3";
    reelSpeedUpSound.loop = true;
    reelSpeedUpSound.volume = 0.9;

    const freeSpinSound = new Audio();
    freeSpinSound.src = "sounds/SE_Free_BG.mp3";
    freeSpinSound.loop = true;
    freeSpinSound.volume = 0.9;

    // Initialize variables
    let autoSpins = 0;
    let isFreeSpinMode = false;
    let freeSpinCount = 0;
    let remainingFreeSpinCount = 0;
    let bonusMultiplier = 0;
    let originalBetAmount = 0;
    let autoSpinsStopped = true;
    let isQuickSpinMode = false;
    let balance = 1000; // Default balance for demo
    let stake = 0.3; // Default stake

    // Function to hide Kong overlay
    function hideKongOverlay() {
        document.getElementById('kong_overlay').style.display = "none";
        // Try to play background music (will be blocked by browsers until user interaction)
        backgroundMusic.play().catch(e => console.log("Audio play failed:", e));
    }

    // Function to display settings overlay
    function displaySettingsOverlay2() {
        document.getElementById('settingsOverlay').style.display = 'block';
    }

    // Function to hide settings overlay
    function hideSettingsOverlay() {
        document.getElementById('settingsOverlay').style.display = 'none';
    }

    // Function to set demo feature
    function setDemoFeature(feature) {
        isFirstSpin = true; //set first spin to true so as to trigger the passed feature
        currentDemoFeature.feature = feature;
        document.getElementById('featuresOverlay').style.display = "none";
        spin();
    }

    // Function to update auto spin status
    function updateAutoSpinStatus() {
        if (autoSpinsStopped) {
            selectedAutoSpins = 0;
            const autoSpinOptionButtons = document.getElementById('autoSpinOptions').querySelectorAll('.option-button');
            autoSpinOptionButtons.forEach(button => {
                if (button.classList.contains('selected')) {
                    button.classList.remove('selected');
                }
            });
            document.getElementById('autoPlayButton').innerHTML = `<img src="autospininnerimg.png" class="autospininner-img" alt="">`;
        } else {
            document.getElementById('autoPlayButton').innerHTML = `<img src="autospininnerimgstop.png" class="autospininnerimgstop" alt="">`;
        }
    }

    // Initialize the game when document is loaded
    document.addEventListener("DOMContentLoaded", function() {
        // Initialize loader
        let loaderBar = document.getElementById("loader-bar");
        let progress = 0;

        function updateProgress() {
            progress += Math.random() * 10;

            if (progress > 100) progress = 100;

            loaderBar.style.width = progress + "%";

            // Interpolate green from 165 (orange) to 140 (darkorange)
            let green = 165 - (progress / 100) * (165 - 140);
            loaderBar.style.backgroundColor = `rgb(255, ${green}, 0)`;

            if (progress < 100) {
                setTimeout(updateProgress, 500);
            } else {
                setTimeout(() => {
                    document.querySelector(".loader-container").style.display = "none";
                    document.getElementById('jdb_overlay').style.display = "none";
                }, 500);
            }
        }
        
        updateProgress();

        // Add event listeners
        document.getElementById('close_info_button').addEventListener('click', function() {